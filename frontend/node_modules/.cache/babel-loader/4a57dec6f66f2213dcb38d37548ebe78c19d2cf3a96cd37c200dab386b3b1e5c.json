{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Brain,Settings,CheckCircle,FileText,TrendingUp,Volume2,AlertTriangle,Loader2,GitBranch,Mic}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Optimization=()=>{var _optimizationStatus$c,_optimizationStatus$s,_optimizationStatus$s2,_optimizationStatus$s3,_optimizationStatus$t,_optimizationStatus$t2,_optimizationStatus$t3,_optimizationStatus$v,_currentVoice$voice_s,_optimizationStatus$v2,_currentVoice$voice_s2,_optimizationStatus$v3,_analysisResults$chan,_analysisResults$chan2,_analysisResults$chan3,_analysisResults$chan4,_analysisResults$chan5,_analysisResults$chan6,_analysisResults$chan7,_analysisResults$chan8,_analysisResults$cont,_beforeAfterCompariso,_beforeAfterCompariso2,_beforeAfterCompariso3,_beforeAfterCompariso4,_beforeAfterCompariso5,_beforeAfterCompariso6,_beforeAfterCompariso7,_beforeAfterCompariso8,_beforeAfterCompariso9,_beforeAfterCompariso0,_beforeAfterCompariso1,_beforeAfterCompariso10,_beforeAfterCompariso11;const[isAnalyzing,setIsAnalyzing]=useState(false);const[analysisResults,setAnalysisResults]=useState(null);const[optimizationStatus,setOptimizationStatus]=useState(null);const[isApplying,setIsApplying]=useState(false);const[channelUrl,setChannelUrl]=useState('');const[myChannelInfo,setMyChannelInfo]=useState(null);const[useMyChannel,setUseMyChannel]=useState(false);const[beforeAfterComparison,setBeforeAfterComparison]=useState(null);const[availableVoices,setAvailableVoices]=useState([]);const[currentVoice,setCurrentVoice]=useState(null);const[isLoadingVoices,setIsLoadingVoices]=useState(false);const[showVoiceSelector,setShowVoiceSelector]=useState(false);useEffect(()=>{fetchOptimizationStatus();fetchMyChannelInfo();fetchAvailableVoices();fetchCurrentVoice();},[]);const fetchOptimizationStatus=async()=>{try{const response=await fetch('/optimization/status');if(response.ok){const data=await response.json();setOptimizationStatus(data);}}catch(error){console.error('Failed to fetch optimization status:',error);}};const fetchMyChannelInfo=async()=>{try{const response=await fetch('/optimization/my-channel');if(response.ok){const data=await response.json();if(data.success&&data.channel_info){setMyChannelInfo(data.channel_info);setUseMyChannel(true);setChannelUrl(data.channel_info.channel_url);}}}catch(error){console.error('Failed to fetch my channel info:',error);}};const fetchAvailableVoices=async()=>{try{setIsLoadingVoices(true);const response=await fetch('/voices/available');if(response.ok){const data=await response.json();setAvailableVoices(data.voices);}}catch(error){console.error('Failed to fetch available voices:',error);}finally{setIsLoadingVoices(false);}};const fetchCurrentVoice=async()=>{try{const response=await fetch('/voices/current');if(response.ok){const data=await response.json();setCurrentVoice(data);}}catch(error){console.error('Failed to fetch current voice:',error);}};const handleVoiceChange=async(voiceId,voiceName)=>{try{const response=await fetch('/voices/set',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({voice_id:voiceId,voice_name:voiceName})});if(response.ok){await fetchCurrentVoice();setShowVoiceSelector(false);alert(\"Voice successfully changed to: \".concat(voiceName));}}catch(error){console.error('Failed to change voice:',error);alert('Failed to change voice. Please try again.');}};const analyzeChannel=async()=>{const urlToAnalyze=useMyChannel&&myChannelInfo?myChannelInfo.channel_url:channelUrl.trim();if(!urlToAnalyze){alert('Please enter a valid channel URL');return;}setIsAnalyzing(true);setAnalysisResults(null);try{const response=await fetch('/optimization/analyze',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({channel_url:urlToAnalyze})});if(response.ok){const data=await response.json();setAnalysisResults(data);}else{const errorData=await response.json();throw new Error(errorData.detail||'Analysis failed');}}catch(error){console.error('Analysis failed:',error);alert(\"Analysis failed: \".concat(error.message));}finally{setIsAnalyzing(false);}};const applyOptimizations=async()=>{if(!(analysisResults!==null&&analysisResults!==void 0&&analysisResults.recommendations)){alert('No recommendations to apply');return;}setIsApplying(true);try{const response=await fetch('/optimization/apply',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({channel_url:useMyChannel&&myChannelInfo?myChannelInfo.channel_url:channelUrl.trim()})});if(response.ok){const data=await response.json();setBeforeAfterComparison(data.before_after_comparison);alert('Optimizations applied successfully!');await fetchOptimizationStatus();// Refresh status\n}else{const errorData=await response.json();throw new Error(errorData.detail||'Failed to apply optimizations');}}catch(error){console.error('Failed to apply optimizations:',error);alert(\"Failed to apply optimizations: \".concat(error.message));}finally{setIsApplying(false);}};const formatPercentage=value=>{return\"\".concat((value*100).toFixed(1),\"%\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 py-6 space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm border p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(Brain,{className:\"w-8 h-8 text-purple-600\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"AI Content Optimization\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:\"Analyze channel performance and optimize content generation\"})]})]}),(optimizationStatus===null||optimizationStatus===void 0?void 0:(_optimizationStatus$c=optimizationStatus.content_optimization)===null||_optimizationStatus$c===void 0?void 0:_optimizationStatus$c.status)==='active'&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-green-600\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"AI Learning Active\"})]})]})}),optimizationStatus&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border p-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-lg font-semibold text-gray-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(Settings,{className:\"w-5 h-5 mr-2 text-gray-600\"}),\"Current Optimization Settings\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-sm font-medium text-gray-700 flex items-center\",children:[/*#__PURE__*/_jsx(FileText,{className:\"w-4 h-4 mr-2\"}),\"Script Generation\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Hook Style:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium capitalize\",children:((_optimizationStatus$s=optimizationStatus.script_optimization)===null||_optimizationStatus$s===void 0?void 0:_optimizationStatus$s.hook_style)||'question_based'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Controversy:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:((_optimizationStatus$s2=optimizationStatus.script_optimization)===null||_optimizationStatus$s2===void 0?void 0:_optimizationStatus$s2.controversy_level)||0.3})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Temperature:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:((_optimizationStatus$s3=optimizationStatus.script_optimization)===null||_optimizationStatus$s3===void 0?void 0:_optimizationStatus$s3.temperature)||0.7})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-sm font-medium text-gray-700 flex items-center\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"w-4 h-4 mr-2\"}),\"Trending Weights\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Volume Weight:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:formatPercentage(((_optimizationStatus$t=optimizationStatus.trends_optimization)===null||_optimizationStatus$t===void 0?void 0:_optimizationStatus$t.volume_weight)||0.3)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Velocity Weight:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:formatPercentage(((_optimizationStatus$t2=optimizationStatus.trends_optimization)===null||_optimizationStatus$t2===void 0?void 0:_optimizationStatus$t2.velocity_weight)||0.4)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Recency Weight:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:formatPercentage(((_optimizationStatus$t3=optimizationStatus.trends_optimization)===null||_optimizationStatus$t3===void 0?void 0:_optimizationStatus$t3.recency_weight)||0.3)})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-sm font-medium text-gray-700 flex items-center\",children:[/*#__PURE__*/_jsx(Volume2,{className:\"w-4 h-4 mr-2\"}),\"Voice Settings\",/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowVoiceSelector(!showVoiceSelector),className:\"ml-auto px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200\",children:[/*#__PURE__*/_jsx(Mic,{className:\"w-3 h-3 inline mr-1\"}),\"Change\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Voice ID:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:(currentVoice===null||currentVoice===void 0?void 0:currentVoice.voice_id)||((_optimizationStatus$v=optimizationStatus.voice_optimization)===null||_optimizationStatus$v===void 0?void 0:_optimizationStatus$v.voice_id)||'default'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Stability:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:(currentVoice===null||currentVoice===void 0?void 0:(_currentVoice$voice_s=currentVoice.voice_settings)===null||_currentVoice$voice_s===void 0?void 0:_currentVoice$voice_s.stability)||((_optimizationStatus$v2=optimizationStatus.voice_optimization)===null||_optimizationStatus$v2===void 0?void 0:_optimizationStatus$v2.stability)||0.5})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Clarity:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:(currentVoice===null||currentVoice===void 0?void 0:(_currentVoice$voice_s2=currentVoice.voice_settings)===null||_currentVoice$voice_s2===void 0?void 0:_currentVoice$voice_s2.similarity_boost)||((_optimizationStatus$v3=optimizationStatus.voice_optimization)===null||_optimizationStatus$v3===void 0?void 0:_optimizationStatus$v3.similarity_boost)||0.75})]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Channel Analysis\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[myChannelInfo&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 p-4 rounded-lg border border-blue-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-white font-semibold\",children:myChannelInfo.channel_title.charAt(0).toUpperCase()}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900\",children:myChannelInfo.channel_title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[myChannelInfo.subscriber_count.toLocaleString(),\" subscribers \\u2022 \",myChannelInfo.video_count,\" videos\"]})]})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2 cursor-pointer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:useMyChannel,onChange:e=>{setUseMyChannel(e.target.checked);if(e.target.checked){setChannelUrl(myChannelInfo.channel_url);}else{setChannelUrl('');}},className:\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-blue-700\",children:\"Use my channel\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"channelUrl\",className:\"block text-sm font-medium text-gray-700 mb-2\",children:useMyChannel&&myChannelInfo?'Selected Channel URL':'YouTube Channel URL'}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"channelUrl\",value:channelUrl,onChange:e=>{setChannelUrl(e.target.value);setUseMyChannel(false);},placeholder:\"https://www.youtube.com/@channelname\",disabled:useMyChannel&&myChannelInfo,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent \".concat(useMyChannel&&myChannelInfo?'bg-gray-50 text-gray-600':'')})]}),/*#__PURE__*/_jsx(\"button\",{onClick:analyzeChannel,disabled:isAnalyzing||!(useMyChannel&&myChannelInfo)&&!channelUrl.trim(),className:\"w-full bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center\",children:isAnalyzing?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Loader2,{className:\"w-4 h-4 mr-2 animate-spin\"}),useMyChannel&&myChannelInfo?'Analyzing My Channel...':'Analyzing Channel...']}):useMyChannel&&myChannelInfo?'Analyze My Channel':'Analyze Channel'})]})]}),analysisResults&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Performance Analysis\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-blue-600\",children:((_analysisResults$chan=analysisResults.channel_metrics)===null||_analysisResults$chan===void 0?void 0:(_analysisResults$chan2=_analysisResults$chan.subscriber_count)===null||_analysisResults$chan2===void 0?void 0:_analysisResults$chan2.toLocaleString())||'N/A'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Subscribers\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-green-600\",children:((_analysisResults$chan3=analysisResults.channel_metrics)===null||_analysisResults$chan3===void 0?void 0:(_analysisResults$chan4=_analysisResults$chan3.total_views)===null||_analysisResults$chan4===void 0?void 0:_analysisResults$chan4.toLocaleString())||'N/A'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Total Views\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-yellow-600\",children:((_analysisResults$chan5=analysisResults.channel_metrics)===null||_analysisResults$chan5===void 0?void 0:(_analysisResults$chan6=_analysisResults$chan5.video_count)===null||_analysisResults$chan6===void 0?void 0:_analysisResults$chan6.toLocaleString())||'N/A'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Videos\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-purple-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-purple-600\",children:((_analysisResults$chan7=analysisResults.channel_metrics)===null||_analysisResults$chan7===void 0?void 0:(_analysisResults$chan8=_analysisResults$chan7.avg_views_per_video)===null||_analysisResults$chan8===void 0?void 0:_analysisResults$chan8.toLocaleString())||'N/A'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Avg Views\"})]})]})]}),analysisResults.content_patterns&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Content Patterns\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-700 mb-3\",children:\"Top Topics\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:(_analysisResults$cont=analysisResults.content_patterns.top_topics)===null||_analysisResults$cont===void 0?void 0:_analysisResults$cont.slice(0,5).map((topic,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-2 bg-gray-50 rounded\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:topic.topic}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-purple-600\",children:[topic.count,\" videos\"]})]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-700 mb-3\",children:\"Performance Insights\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Best Upload Day:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:analysisResults.content_patterns.best_upload_day||'Unknown'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Best Upload Time:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:analysisResults.content_patterns.best_upload_time||'Unknown'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Optimal Video Length:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:analysisResults.content_patterns.optimal_length||'Unknown'})]})]})]})]})]}),analysisResults.recommendations&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border p-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-lg font-semibold text-gray-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(AlertTriangle,{className:\"w-5 h-5 mr-2 text-yellow-500\"}),\"AI Optimization Recommendations\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:analysisResults.recommendations.map((rec,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"border-l-4 border-purple-500 pl-4 py-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:rec.category}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 mt-1\",children:rec.suggestion}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-purple-600 mt-1\",children:[\"Impact: \",rec.impact,\" | Confidence: \",rec.confidence]})]},index))}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 pt-4 border-t\",children:/*#__PURE__*/_jsx(\"button\",{onClick:applyOptimizations,disabled:isApplying,className:\"w-full bg-green-600 text-white px-4 py-3 rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center font-medium\",children:isApplying?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Loader2,{className:\"w-4 h-4 mr-2 animate-spin\"}),\"Applying Optimizations...\"]}):'Apply All Recommendations'})})]})]}),showVoiceSelector&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 w-full max-w-2xl max-h-96 overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(Mic,{className:\"w-5 h-5 mr-2\"}),\"Select ElevenLabs Voice\"]}),isLoadingVoices?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center py-8\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"w-6 h-6 animate-spin mr-2\"}),\"Loading voices...\"]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 gap-3 max-h-64 overflow-y-auto\",children:availableVoices.map(voice=>{var _voice$labels,_voice$labels2,_voice$labels3,_voice$labels4;return/*#__PURE__*/_jsx(\"div\",{onClick:()=>handleVoiceChange(voice.voice_id,voice.name),className:\"p-3 border rounded-lg cursor-pointer hover:bg-blue-50 \".concat((currentVoice===null||currentVoice===void 0?void 0:currentVoice.voice_id)===voice.voice_id?'border-blue-500 bg-blue-50':'border-gray-200'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900\",children:voice.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[((_voice$labels=voice.labels)===null||_voice$labels===void 0?void 0:_voice$labels.accent)&&\"\".concat(voice.labels.accent,\" \\u2022 \"),((_voice$labels2=voice.labels)===null||_voice$labels2===void 0?void 0:_voice$labels2.description)||'No description']}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:[\"Age: \",((_voice$labels3=voice.labels)===null||_voice$labels3===void 0?void 0:_voice$labels3.age)||'Unknown',\" \\u2022 Gender: \",((_voice$labels4=voice.labels)===null||_voice$labels4===void 0?void 0:_voice$labels4.gender)||'Unknown']})]}),(currentVoice===null||currentVoice===void 0?void 0:currentVoice.voice_id)===voice.voice_id&&/*#__PURE__*/_jsx(CheckCircle,{className:\"w-5 h-5 text-blue-600\"})]})},voice.voice_id);})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 flex justify-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowVoiceSelector(false),className:\"px-4 py-2 text-gray-600 hover:text-gray-800\",children:\"Close\"})})]})}),beforeAfterComparison&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border p-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-lg font-semibold text-gray-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(GitBranch,{className:\"w-5 h-5 mr-2 text-green-600\"}),\"Optimization Changes Applied\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-md font-medium text-gray-700 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-3 h-3 bg-red-500 rounded-full mr-2\"}),\"Before Optimization\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 p-4 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Profile:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:((_beforeAfterCompariso=beforeAfterComparison.before)===null||_beforeAfterCompariso===void 0?void 0:(_beforeAfterCompariso2=_beforeAfterCompariso.profile)===null||_beforeAfterCompariso2===void 0?void 0:_beforeAfterCompariso2.name)||'Default'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Voice:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:((_beforeAfterCompariso3=beforeAfterComparison.before)===null||_beforeAfterCompariso3===void 0?void 0:(_beforeAfterCompariso4=_beforeAfterCompariso3.config_snapshot)===null||_beforeAfterCompariso4===void 0?void 0:(_beforeAfterCompariso5=_beforeAfterCompariso4.voice_settings)===null||_beforeAfterCompariso5===void 0?void 0:_beforeAfterCompariso5.voice_id)||'default'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Updated:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:new Date((_beforeAfterCompariso6=beforeAfterComparison.before)===null||_beforeAfterCompariso6===void 0?void 0:_beforeAfterCompariso6.timestamp).toLocaleTimeString()})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-md font-medium text-gray-700 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-3 h-3 bg-green-500 rounded-full mr-2\"}),\"After Optimization\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-50 p-4 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Profile:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:((_beforeAfterCompariso7=beforeAfterComparison.after)===null||_beforeAfterCompariso7===void 0?void 0:(_beforeAfterCompariso8=_beforeAfterCompariso7.profile)===null||_beforeAfterCompariso8===void 0?void 0:_beforeAfterCompariso8.name)||'Default'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Voice:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:((_beforeAfterCompariso9=beforeAfterComparison.after)===null||_beforeAfterCompariso9===void 0?void 0:(_beforeAfterCompariso0=_beforeAfterCompariso9.config_snapshot)===null||_beforeAfterCompariso0===void 0?void 0:(_beforeAfterCompariso1=_beforeAfterCompariso0.voice_settings)===null||_beforeAfterCompariso1===void 0?void 0:_beforeAfterCompariso1.voice_id)||'default'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Updated:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:new Date((_beforeAfterCompariso10=beforeAfterComparison.after)===null||_beforeAfterCompariso10===void 0?void 0:_beforeAfterCompariso10.timestamp).toLocaleTimeString()})]})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 p-4 bg-blue-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-blue-900 mb-2\",children:\"Changes Made:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-1 text-sm text-blue-800\",children:(_beforeAfterCompariso11=beforeAfterComparison.changes_summary)===null||_beforeAfterCompariso11===void 0?void 0:_beforeAfterCompariso11.map((change,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"w-4 h-4 mr-2 text-blue-600\"}),change]},index))})]})]})]});};export default Optimization;","map":{"version":3,"names":["React","useState","useEffect","Brain","Settings","CheckCircle","FileText","TrendingUp","Volume2","AlertTriangle","Loader2","GitBranch","Mic","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Optimization","_optimizationStatus$c","_optimizationStatus$s","_optimizationStatus$s2","_optimizationStatus$s3","_optimizationStatus$t","_optimizationStatus$t2","_optimizationStatus$t3","_optimizationStatus$v","_currentVoice$voice_s","_optimizationStatus$v2","_currentVoice$voice_s2","_optimizationStatus$v3","_analysisResults$chan","_analysisResults$chan2","_analysisResults$chan3","_analysisResults$chan4","_analysisResults$chan5","_analysisResults$chan6","_analysisResults$chan7","_analysisResults$chan8","_analysisResults$cont","_beforeAfterCompariso","_beforeAfterCompariso2","_beforeAfterCompariso3","_beforeAfterCompariso4","_beforeAfterCompariso5","_beforeAfterCompariso6","_beforeAfterCompariso7","_beforeAfterCompariso8","_beforeAfterCompariso9","_beforeAfterCompariso0","_beforeAfterCompariso1","_beforeAfterCompariso10","_beforeAfterCompariso11","isAnalyzing","setIsAnalyzing","analysisResults","setAnalysisResults","optimizationStatus","setOptimizationStatus","isApplying","setIsApplying","channelUrl","setChannelUrl","myChannelInfo","setMyChannelInfo","useMyChannel","setUseMyChannel","beforeAfterComparison","setBeforeAfterComparison","availableVoices","setAvailableVoices","currentVoice","setCurrentVoice","isLoadingVoices","setIsLoadingVoices","showVoiceSelector","setShowVoiceSelector","fetchOptimizationStatus","fetchMyChannelInfo","fetchAvailableVoices","fetchCurrentVoice","response","fetch","ok","data","json","error","console","success","channel_info","channel_url","voices","handleVoiceChange","voiceId","voiceName","method","headers","body","JSON","stringify","voice_id","voice_name","alert","concat","analyzeChannel","urlToAnalyze","trim","errorData","Error","detail","message","applyOptimizations","recommendations","before_after_comparison","formatPercentage","value","toFixed","className","children","content_optimization","status","script_optimization","hook_style","controversy_level","temperature","trends_optimization","volume_weight","velocity_weight","recency_weight","onClick","voice_optimization","voice_settings","stability","similarity_boost","channel_title","charAt","toUpperCase","subscriber_count","toLocaleString","video_count","type","checked","onChange","e","target","htmlFor","id","placeholder","disabled","channel_metrics","total_views","avg_views_per_video","content_patterns","top_topics","slice","map","topic","index","count","best_upload_day","best_upload_time","optimal_length","rec","category","suggestion","impact","confidence","voice","_voice$labels","_voice$labels2","_voice$labels3","_voice$labels4","name","labels","accent","description","age","gender","before","profile","config_snapshot","Date","timestamp","toLocaleTimeString","after","changes_summary","change"],"sources":["/Users/aman/Documents/YouTube Automation/frontend/src/components/Optimization.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Brain, Settings, CheckCircle, FileText, TrendingUp, Volume2, AlertTriangle, Loader2, GitBranch, Mic } from 'lucide-react';\n\nconst Optimization = () => {\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [analysisResults, setAnalysisResults] = useState(null);\n  const [optimizationStatus, setOptimizationStatus] = useState(null);\n  const [isApplying, setIsApplying] = useState(false);\n  const [channelUrl, setChannelUrl] = useState('');\n  const [myChannelInfo, setMyChannelInfo] = useState(null);\n  const [useMyChannel, setUseMyChannel] = useState(false);\n  const [beforeAfterComparison, setBeforeAfterComparison] = useState(null);\n  const [availableVoices, setAvailableVoices] = useState([]);\n  const [currentVoice, setCurrentVoice] = useState(null);\n  const [isLoadingVoices, setIsLoadingVoices] = useState(false);\n  const [showVoiceSelector, setShowVoiceSelector] = useState(false);\n\n  useEffect(() => {\n    fetchOptimizationStatus();\n    fetchMyChannelInfo();\n    fetchAvailableVoices();\n    fetchCurrentVoice();\n  }, []);\n\n  const fetchOptimizationStatus = async () => {\n    try {\n      const response = await fetch('/optimization/status');\n      if (response.ok) {\n        const data = await response.json();\n        setOptimizationStatus(data);\n      }\n    } catch (error) {\n      console.error('Failed to fetch optimization status:', error);\n    }\n  };\n\n  const fetchMyChannelInfo = async () => {\n    try {\n      const response = await fetch('/optimization/my-channel');\n      if (response.ok) {\n        const data = await response.json();\n        if (data.success && data.channel_info) {\n          setMyChannelInfo(data.channel_info);\n          setUseMyChannel(true);\n          setChannelUrl(data.channel_info.channel_url);\n        }\n      }\n    } catch (error) {\n      console.error('Failed to fetch my channel info:', error);\n    }\n  };\n\n  const fetchAvailableVoices = async () => {\n    try {\n      setIsLoadingVoices(true);\n      const response = await fetch('/voices/available');\n      if (response.ok) {\n        const data = await response.json();\n        setAvailableVoices(data.voices);\n      }\n    } catch (error) {\n      console.error('Failed to fetch available voices:', error);\n    } finally {\n      setIsLoadingVoices(false);\n    }\n  };\n\n  const fetchCurrentVoice = async () => {\n    try {\n      const response = await fetch('/voices/current');\n      if (response.ok) {\n        const data = await response.json();\n        setCurrentVoice(data);\n      }\n    } catch (error) {\n      console.error('Failed to fetch current voice:', error);\n    }\n  };\n\n  const handleVoiceChange = async (voiceId, voiceName) => {\n    try {\n      const response = await fetch('/voices/set', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          voice_id: voiceId,\n          voice_name: voiceName\n        }),\n      });\n\n      if (response.ok) {\n        await fetchCurrentVoice();\n        setShowVoiceSelector(false);\n        alert(`Voice successfully changed to: ${voiceName}`);\n      }\n    } catch (error) {\n      console.error('Failed to change voice:', error);\n      alert('Failed to change voice. Please try again.');\n    }\n  };\n\n  const analyzeChannel = async () => {\n    const urlToAnalyze = useMyChannel && myChannelInfo ? myChannelInfo.channel_url : channelUrl.trim();\n    \n    if (!urlToAnalyze) {\n      alert('Please enter a valid channel URL');\n      return;\n    }\n\n    setIsAnalyzing(true);\n    setAnalysisResults(null);\n    \n    try {\n      const response = await fetch('/optimization/analyze', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ channel_url: urlToAnalyze })\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setAnalysisResults(data);\n      } else {\n        const errorData = await response.json();\n        throw new Error(errorData.detail || 'Analysis failed');\n      }\n    } catch (error) {\n      console.error('Analysis failed:', error);\n      alert(`Analysis failed: ${error.message}`);\n    } finally {\n      setIsAnalyzing(false);\n    }\n  };\n\n  const applyOptimizations = async () => {\n    if (!analysisResults?.recommendations) {\n      alert('No recommendations to apply');\n      return;\n    }\n\n    setIsApplying(true);\n    \n    try {\n      const response = await fetch('/optimization/apply', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          channel_url: useMyChannel && myChannelInfo ? myChannelInfo.channel_url : channelUrl.trim()\n        })\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setBeforeAfterComparison(data.before_after_comparison);\n        alert('Optimizations applied successfully!');\n        await fetchOptimizationStatus(); // Refresh status\n      } else {\n        const errorData = await response.json();\n        throw new Error(errorData.detail || 'Failed to apply optimizations');\n      }\n    } catch (error) {\n      console.error('Failed to apply optimizations:', error);\n      alert(`Failed to apply optimizations: ${error.message}`);\n    } finally {\n      setIsApplying(false);\n    }\n  };\n\n  const formatPercentage = (value) => {\n    return `${(value * 100).toFixed(1)}%`;\n  };\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 py-6 space-y-6\">\n      {/* Header */}\n      <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-3\">\n            <Brain className=\"w-8 h-8 text-purple-600\" />\n            <div>\n              <h1 className=\"text-2xl font-bold text-gray-900\">AI Content Optimization</h1>\n              <p className=\"text-gray-600 mt-1\">Analyze channel performance and optimize content generation</p>\n            </div>\n          </div>\n          {optimizationStatus?.content_optimization?.status === 'active' && (\n            <div className=\"flex items-center space-x-2 text-green-600\">\n              <CheckCircle className=\"w-5 h-5\" />\n              <span className=\"text-sm font-medium\">AI Learning Active</span>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Current Optimization Status */}\n      {optimizationStatus && (\n        <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n          <h2 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n            <Settings className=\"w-5 h-5 mr-2 text-gray-600\" />\n            Current Optimization Settings\n          </h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n            <div className=\"space-y-3\">\n              <h3 className=\"text-sm font-medium text-gray-700 flex items-center\">\n                <FileText className=\"w-4 h-4 mr-2\" />\n                Script Generation\n              </h3>\n              <div className=\"space-y-2 text-sm\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600\">Hook Style:</span>\n                  <span className=\"font-medium capitalize\">{optimizationStatus.script_optimization?.hook_style || 'question_based'}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600\">Controversy:</span>\n                  <span className=\"font-medium\">{optimizationStatus.script_optimization?.controversy_level || 0.3}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600\">Temperature:</span>\n                  <span className=\"font-medium\">{optimizationStatus.script_optimization?.temperature || 0.7}</span>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"space-y-3\">\n              <h3 className=\"text-sm font-medium text-gray-700 flex items-center\">\n                <TrendingUp className=\"w-4 h-4 mr-2\" />\n                Trending Weights\n              </h3>\n              <div className=\"space-y-2 text-sm\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600\">Volume Weight:</span>\n                  <span className=\"font-medium\">{formatPercentage(optimizationStatus.trends_optimization?.volume_weight || 0.3)}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600\">Velocity Weight:</span>\n                  <span className=\"font-medium\">{formatPercentage(optimizationStatus.trends_optimization?.velocity_weight || 0.4)}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600\">Recency Weight:</span>\n                  <span className=\"font-medium\">{formatPercentage(optimizationStatus.trends_optimization?.recency_weight || 0.3)}</span>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"space-y-3\">\n              <h3 className=\"text-sm font-medium text-gray-700 flex items-center\">\n                <Volume2 className=\"w-4 h-4 mr-2\" />\n                Voice Settings\n                <button\n                  onClick={() => setShowVoiceSelector(!showVoiceSelector)}\n                  className=\"ml-auto px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200\"\n                >\n                  <Mic className=\"w-3 h-3 inline mr-1\" />\n                  Change\n                </button>\n              </h3>\n              <div className=\"space-y-2 text-sm\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600\">Voice ID:</span>\n                  <span className=\"font-medium\">{currentVoice?.voice_id || optimizationStatus.voice_optimization?.voice_id || 'default'}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600\">Stability:</span>\n                  <span className=\"font-medium\">{currentVoice?.voice_settings?.stability || optimizationStatus.voice_optimization?.stability || 0.5}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600\">Clarity:</span>\n                  <span className=\"font-medium\">{currentVoice?.voice_settings?.similarity_boost || optimizationStatus.voice_optimization?.similarity_boost || 0.75}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Channel Analysis Form */}\n      <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n        <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Channel Analysis</h2>\n        <div className=\"space-y-4\">\n          {/* My Channel Option */}\n          {myChannelInfo && (\n            <div className=\"bg-blue-50 p-4 rounded-lg border border-blue-200\">\n              <div className=\"flex items-center justify-between mb-3\">\n                <div className=\"flex items-center space-x-3\">\n                  <div className=\"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-white font-semibold\">\n                    {myChannelInfo.channel_title.charAt(0).toUpperCase()}\n                  </div>\n                  <div>\n                    <h3 className=\"font-medium text-gray-900\">{myChannelInfo.channel_title}</h3>\n                    <p className=\"text-sm text-gray-600\">\n                      {myChannelInfo.subscriber_count.toLocaleString()} subscribers â€¢ {myChannelInfo.video_count} videos\n                    </p>\n                  </div>\n                </div>\n                <label className=\"flex items-center space-x-2 cursor-pointer\">\n                  <input\n                    type=\"checkbox\"\n                    checked={useMyChannel}\n                    onChange={(e) => {\n                      setUseMyChannel(e.target.checked);\n                      if (e.target.checked) {\n                        setChannelUrl(myChannelInfo.channel_url);\n                      } else {\n                        setChannelUrl('');\n                      }\n                    }}\n                    className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\n                  />\n                  <span className=\"text-sm font-medium text-blue-700\">Use my channel</span>\n                </label>\n              </div>\n            </div>\n          )}\n          \n          <div>\n            <label htmlFor=\"channelUrl\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n              {useMyChannel && myChannelInfo ? 'Selected Channel URL' : 'YouTube Channel URL'}\n            </label>\n            <input\n              type=\"text\"\n              id=\"channelUrl\"\n              value={channelUrl}\n              onChange={(e) => {\n                setChannelUrl(e.target.value);\n                setUseMyChannel(false);\n              }}\n              placeholder=\"https://www.youtube.com/@channelname\"\n              disabled={useMyChannel && myChannelInfo}\n              className={`w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent ${\n                useMyChannel && myChannelInfo ? 'bg-gray-50 text-gray-600' : ''\n              }`}\n            />\n          </div>\n          <button\n            onClick={analyzeChannel}\n            disabled={isAnalyzing || (!(useMyChannel && myChannelInfo) && !channelUrl.trim())}\n            className=\"w-full bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center\"\n          >\n            {isAnalyzing ? (\n              <>\n                <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                {useMyChannel && myChannelInfo ? 'Analyzing My Channel...' : 'Analyzing Channel...'}\n              </>\n            ) : (\n              useMyChannel && myChannelInfo ? 'Analyze My Channel' : 'Analyze Channel'\n            )}\n          </button>\n        </div>\n      </div>\n\n      {/* Analysis Results */}\n      {analysisResults && (\n        <div className=\"space-y-6\">\n          {/* Performance Metrics */}\n          <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n            <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Performance Analysis</h2>\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n              <div className=\"bg-blue-50 p-4 rounded-lg\">\n                <div className=\"text-2xl font-bold text-blue-600\">\n                  {analysisResults.channel_metrics?.subscriber_count?.toLocaleString() || 'N/A'}\n                </div>\n                <div className=\"text-sm text-gray-600\">Subscribers</div>\n              </div>\n              <div className=\"bg-green-50 p-4 rounded-lg\">\n                <div className=\"text-2xl font-bold text-green-600\">\n                  {analysisResults.channel_metrics?.total_views?.toLocaleString() || 'N/A'}\n                </div>\n                <div className=\"text-sm text-gray-600\">Total Views</div>\n              </div>\n              <div className=\"bg-yellow-50 p-4 rounded-lg\">\n                <div className=\"text-2xl font-bold text-yellow-600\">\n                  {analysisResults.channel_metrics?.video_count?.toLocaleString() || 'N/A'}\n                </div>\n                <div className=\"text-sm text-gray-600\">Videos</div>\n              </div>\n              <div className=\"bg-purple-50 p-4 rounded-lg\">\n                <div className=\"text-2xl font-bold text-purple-600\">\n                  {analysisResults.channel_metrics?.avg_views_per_video?.toLocaleString() || 'N/A'}\n                </div>\n                <div className=\"text-sm text-gray-600\">Avg Views</div>\n              </div>\n            </div>\n          </div>\n\n          {/* Content Patterns */}\n          {analysisResults.content_patterns && (\n            <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n              <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Content Patterns</h2>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div>\n                  <h3 className=\"text-sm font-medium text-gray-700 mb-3\">Top Topics</h3>\n                  <div className=\"space-y-2\">\n                    {analysisResults.content_patterns.top_topics?.slice(0, 5).map((topic, index) => (\n                      <div key={index} className=\"flex justify-between items-center p-2 bg-gray-50 rounded\">\n                        <span className=\"text-sm\">{topic.topic}</span>\n                        <span className=\"text-sm font-medium text-purple-600\">{topic.count} videos</span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n                <div>\n                  <h3 className=\"text-sm font-medium text-gray-700 mb-3\">Performance Insights</h3>\n                  <div className=\"space-y-2 text-sm\">\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-gray-600\">Best Upload Day:</span>\n                      <span className=\"font-medium\">{analysisResults.content_patterns.best_upload_day || 'Unknown'}</span>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-gray-600\">Best Upload Time:</span>\n                      <span className=\"font-medium\">{analysisResults.content_patterns.best_upload_time || 'Unknown'}</span>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-gray-600\">Optimal Video Length:</span>\n                      <span className=\"font-medium\">{analysisResults.content_patterns.optimal_length || 'Unknown'}</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* AI Recommendations */}\n          {analysisResults.recommendations && (\n            <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n              <h2 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n                <AlertTriangle className=\"w-5 h-5 mr-2 text-yellow-500\" />\n                AI Optimization Recommendations\n              </h2>\n              <div className=\"space-y-4\">\n                {analysisResults.recommendations.map((rec, index) => (\n                  <div key={index} className=\"border-l-4 border-purple-500 pl-4 py-2\">\n                    <div className=\"font-medium text-gray-900\">{rec.category}</div>\n                    <div className=\"text-sm text-gray-600 mt-1\">{rec.suggestion}</div>\n                    <div className=\"text-xs text-purple-600 mt-1\">\n                      Impact: {rec.impact} | Confidence: {rec.confidence}\n                    </div>\n                  </div>\n                ))}\n              </div>\n              \n              {/* Apply Changes Button */}\n              <div className=\"mt-6 pt-4 border-t\">\n                <button\n                  onClick={applyOptimizations}\n                  disabled={isApplying}\n                  className=\"w-full bg-green-600 text-white px-4 py-3 rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center font-medium\"\n                >\n                  {isApplying ? (\n                    <>\n                      <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                      Applying Optimizations...\n                    </>\n                  ) : (\n                    'Apply All Recommendations'\n                  )}\n                </button>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Voice Selector Modal */}\n      {showVoiceSelector && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-2xl max-h-96 overflow-y-auto\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n              <Mic className=\"w-5 h-5 mr-2\" />\n              Select ElevenLabs Voice\n            </h3>\n            \n            {isLoadingVoices ? (\n              <div className=\"flex items-center justify-center py-8\">\n                <Loader2 className=\"w-6 h-6 animate-spin mr-2\" />\n                Loading voices...\n              </div>\n            ) : (\n              <div className=\"grid grid-cols-1 gap-3 max-h-64 overflow-y-auto\">\n                {availableVoices.map((voice) => (\n                  <div\n                    key={voice.voice_id}\n                    onClick={() => handleVoiceChange(voice.voice_id, voice.name)}\n                    className={`p-3 border rounded-lg cursor-pointer hover:bg-blue-50 ${\n                      currentVoice?.voice_id === voice.voice_id\n                        ? 'border-blue-500 bg-blue-50'\n                        : 'border-gray-200'\n                    }`}\n                  >\n                    <div className=\"flex justify-between items-start\">\n                      <div>\n                        <h4 className=\"font-medium text-gray-900\">{voice.name}</h4>\n                        <p className=\"text-sm text-gray-600\">\n                          {voice.labels?.accent && `${voice.labels.accent} â€¢ `}\n                          {voice.labels?.description || 'No description'}\n                        </p>\n                        <p className=\"text-xs text-gray-500 mt-1\">\n                          Age: {voice.labels?.age || 'Unknown'} â€¢ Gender: {voice.labels?.gender || 'Unknown'}\n                        </p>\n                      </div>\n                      {currentVoice?.voice_id === voice.voice_id && (\n                        <CheckCircle className=\"w-5 h-5 text-blue-600\" />\n                      )}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n            \n            <div className=\"mt-4 flex justify-end\">\n              <button\n                onClick={() => setShowVoiceSelector(false)}\n                className=\"px-4 py-2 text-gray-600 hover:text-gray-800\"\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Before/After Comparison */}\n      {beforeAfterComparison && (\n        <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n          <h2 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n            <GitBranch className=\"w-5 h-5 mr-2 text-green-600\" />\n            Optimization Changes Applied\n          </h2>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            {/* Before State */}\n            <div className=\"space-y-4\">\n              <h3 className=\"text-md font-medium text-gray-700 flex items-center\">\n                <span className=\"w-3 h-3 bg-red-500 rounded-full mr-2\"></span>\n                Before Optimization\n              </h3>\n              <div className=\"bg-red-50 p-4 rounded-lg\">\n                <div className=\"space-y-2 text-sm\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">Profile:</span>\n                    <span className=\"font-medium\">{beforeAfterComparison.before?.profile?.name || 'Default'}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">Voice:</span>\n                    <span className=\"font-medium\">{beforeAfterComparison.before?.config_snapshot?.voice_settings?.voice_id || 'default'}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">Updated:</span>\n                    <span className=\"font-medium\">{new Date(beforeAfterComparison.before?.timestamp).toLocaleTimeString()}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* After State */}\n            <div className=\"space-y-4\">\n              <h3 className=\"text-md font-medium text-gray-700 flex items-center\">\n                <span className=\"w-3 h-3 bg-green-500 rounded-full mr-2\"></span>\n                After Optimization\n              </h3>\n              <div className=\"bg-green-50 p-4 rounded-lg\">\n                <div className=\"space-y-2 text-sm\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">Profile:</span>\n                    <span className=\"font-medium\">{beforeAfterComparison.after?.profile?.name || 'Default'}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">Voice:</span>\n                    <span className=\"font-medium\">{beforeAfterComparison.after?.config_snapshot?.voice_settings?.voice_id || 'default'}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">Updated:</span>\n                    <span className=\"font-medium\">{new Date(beforeAfterComparison.after?.timestamp).toLocaleTimeString()}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Changes Summary */}\n          <div className=\"mt-6 p-4 bg-blue-50 rounded-lg\">\n            <h4 className=\"text-sm font-medium text-blue-900 mb-2\">Changes Made:</h4>\n            <ul className=\"space-y-1 text-sm text-blue-800\">\n              {beforeAfterComparison.changes_summary?.map((change, index) => (\n                <li key={index} className=\"flex items-center\">\n                  <CheckCircle className=\"w-4 h-4 mr-2 text-blue-600\" />\n                  {change}\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Optimization;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}